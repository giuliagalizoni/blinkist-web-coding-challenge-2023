{"version":3,"sources":["src/analytics-api.js","src/index.js"],"names":["trackPageview","params","console","log","trackEvent","control","document","getElementById","test","signUpLink","window","localStorage","getItem","Math","random","setItem","abStorage","classList","add","countViews","pageCount","myStorage","addEventListener","countClicks","clickCount","clicked","URL"],"mappings":";AAgBE,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,QAAA,gBAAA,EAXK,IAAMA,EAAgB,SAACC,GAC5BC,QAAQC,IAA8BF,6BAAAA,OAAAA,KAGxC,QAAA,cAAA,EAKO,IAAMG,EAAa,SAACH,GACzBC,QAAQC,IAA2BF,0BAAAA,OAAAA,KACnC,QAAA,WAAA;;ACyDD,aAxED,IAAA,EAAA,QAAA,sBAEMI,EAAUC,SAASC,eAAe,WAClCC,EAAOF,SAASC,eAAe,QAC/BE,EAAaH,SAASC,eAAe,gBAGtCG,OAAOC,aAAaC,QAAQ,eAC3BC,KAAKC,UAAY,GACnBJ,OAAOC,aAAaI,QAAQ,YAAa,WAEzCL,OAAOC,aAAaI,QAAQ,YAAa,SAKP,YAAlCL,OAAOC,aAAaK,UACtBR,EAAKS,UAAUC,IAAI,QACiB,SAA3BP,aAAaK,WACtBX,EAAQY,UAAUC,IAAI,QAIxB,IAAMC,EAAa,WACjB,IACEC,EADEC,EAAYX,OAAOC,aAEvBD,OAAOY,iBAAiB,OAAQ,WAEzBD,EAAUT,QAAQ,cAIrBQ,EAAYC,EAAUT,QAAQ,aAC9BQ,IACAC,EAAUN,QAAQ,YAAaK,IAL/BC,EAAUN,QAAQ,YAAa,MAW/BQ,EAAc,WAClB,IACEC,EADEH,EAAYX,OAAOC,aAEvBF,EAAWa,iBAAiB,QAAS,WAE9BX,aAAac,UAChBD,EAAaH,EAAUT,QAAQ,cAC/BY,IACAH,EAAUN,QAAQ,aAAcS,IAGlCH,EAAUN,QAAQ,WAAW,MAIjCI,IACAI,KAGA,EAAAvB,EAAa,eACHM,QAAAA,OAAAA,SAASoB,IAAiBhB,eAAAA,OAAAA,OAAOC,aAAaC,QACpD,aACmBF,qBAAAA,OAAAA,OAAOC,aAAaC,QAAQ,gBAInD,EAAAR,EAAU,YACgBE,wBAAAA,OAAAA,SAASoB,IAC/BhB,cAAAA,OAAAA,OAAOC,aAAaC,QAAQ,cACxBF,OAAOC,aAAaC,QAAQ,cAC5B","file":"src.d3dd7567.js","sourceRoot":"..","sourcesContent":["/**\n * Tracks a pageview to our \"imaginary api\" - in this demo just the browser console. ;)\n * Send as params whatever you might seem valuable to send.\n * The URL is probably a good start though.\n */\nexport const trackPageview = (params) => {\n  console.log(`--> Tracking Pageview: ${params}`);\n};\n\n/**\n * Tracks an event to our \"imaginary api\" - in this demo just the browser console. ;)\n * Send as params whatever you might seem valuable to send.\n * The URL and an event name are probably a good start though.\n */\nexport const trackEvent = (params) => {\n  console.log(`--> Tracking Event: ${params}`);\n};\n","// import './styles.css';\nimport { trackPageview, trackEvent } from './analytics-api.js';\n\nconst control = document.getElementById('control');\nconst test = document.getElementById('test');\nconst signUpLink = document.getElementById('sign-up-link');\n\n// Randomly assigning control variant or test variant and storing it in localStorage to guarantee that the user always sees the same variation even if the page is closed or reloaded\nif (!window.localStorage.getItem('abStorage')) {\n  if (Math.random() >= 0.5) {\n    window.localStorage.setItem('abStorage', 'control');\n  } else {\n    window.localStorage.setItem('abStorage', 'test');\n  }\n}\n\n// Hiding elements depending on the variation stored\nif (window.localStorage.abStorage === 'control') {\n  test.classList.add('hide');\n} else if (localStorage.abStorage === 'test') {\n  control.classList.add('hide');\n}\n\n// Counting the number of views and storing it in localStorage to keep track even when the page is reloaded\nconst countViews = () => {\n  let myStorage = window.localStorage,\n    pageCount;\n  window.addEventListener('load', function () {\n    // Creating the property pageCount and setting it to 1 if it doesn't exist yet\n    if (!myStorage.getItem('pageCount')) {\n      myStorage.setItem('pageCount', 1);\n    } else {\n      // Adding 1 to pageCount everytime the page is loaded\n      pageCount = myStorage.getItem('pageCount');\n      pageCount++;\n      myStorage.setItem('pageCount', pageCount);\n    }\n  });\n};\n\n// Counting the number of clicks, considering that only one click per user should be stored\nconst countClicks = () => {\n  let myStorage = window.localStorage,\n    clickCount;\n  signUpLink.addEventListener('click', () => {\n    // Adding 1 to clickCount on click only if \"clicked\" is false\n    if (!localStorage.clicked) {\n      clickCount = myStorage.getItem('clickCount');\n      clickCount++;\n      myStorage.setItem('clickCount', clickCount);\n    }\n    // Setiing clicked to true on click\n    myStorage.setItem('clicked', true);\n  });\n};\n\ncountViews();\ncountClicks();\n\n// Tracking Page View\ntrackPageview(\n  `URL: ${document.URL}, AB-test: ${window.localStorage.getItem(\n    'abStorage'\n  )}, numberOfViews: ${window.localStorage.getItem('pageCount')}`\n);\n\n// Tracking Event\ntrackEvent(\n  `Event: \"click\", URL: ${document.URL}, clicks: ${\n    window.localStorage.getItem('clickCount')\n      ? window.localStorage.getItem('clickCount')\n      : 0\n  }`\n);\n"]}